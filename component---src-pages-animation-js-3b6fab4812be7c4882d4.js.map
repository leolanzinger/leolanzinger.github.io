{"version":3,"file":"component---src-pages-animation-js-3b6fab4812be7c4882d4.js","mappings":"0NAiBE,MAjBF,SAAuBA,EAAMC,GAAO,IAGZC,EAAGC,EAAGC,EAAQC,EAAOC,EAHV,OAC/BC,KAAKC,UAAU,EAAG,EAAGR,EAAKS,MAAOT,EAAKU,QAElBR,EAWTD,EAAKC,EAXOC,EAWJF,EAAKE,EAXEC,EAWCH,EAAKG,OAXEC,EAWMJ,EAAKI,MAV3C,EAAKM,OACL,EAAKC,YACL,EAAKC,IAAIX,EAAGC,EAAGC,EAAQ,EAAa,EAAVU,KAAKC,IAC/B,EAAKC,UAAYX,EACjB,EAAKY,YAAcX,EACnB,EAAKY,OACL,EAAKC,YACL,EAAKC,SAIT,EC6IF,EAvJwB,WAEpB,IAAIC,GAAa,EACbC,EAAU,EACVC,GAAmB,EAEnBvB,EAAO,CACPS,MAAO,EACPC,OAAQ,GAERc,GAAU,EAGRC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,WAEtDC,GAAUC,EAAAA,EAAAA,QAAO,CAAEzB,EAAG,GAAIC,EAAG,GAAIyB,GAAI,IAAKC,GAAI,IAAKzB,OAHtC,EAG0DC,MAAOoB,EAAO,KACrFK,GAAYH,EAAAA,EAAAA,QAAO,MACnBI,GAAeJ,EAAAA,EAAAA,QAAO,MACtBK,GAAcL,EAAAA,EAAAA,QAAO,MA2BrBM,EAAe,SAAfA,IACF,IAAMhC,EAAOyB,EAAQQ,QACrBjC,EAAKG,QAAU,EACXH,EAAKG,OAAS,KAAImB,GAAmB,GACpCC,IAASO,EAAaG,QAAUC,sBAAsBF,GAC/D,EACMG,EAAY,SAAZA,IACF,IAAMnC,EAAOyB,EAAQQ,QAEjBjC,EAAKG,OA1CM,GA2CXH,EAAKG,QAAWH,EAAKG,OAAS,EAC9B2B,EAAaG,QAAUC,sBAAsBC,IAG7CnC,EAAKG,OA/CM,CAiDnB,EACMiC,EAAc,SAAdA,IACF,IAAMpC,EAAOyB,EAAQQ,QACjBjC,EAAKG,OAAS,IACdH,EAAKG,QAAU,EACf2B,EAAaG,QAAUC,sBAAsBE,GAC7CC,MAGAP,EAAaG,QAAUC,sBAAsBI,GAC7CD,IAER,EACMC,EAAc,SAAdA,IACF,IAAMtC,EAAOyB,EAAQQ,QACjBjC,EAAKG,OAhEM,GAiEXH,EAAKG,QAAU,EACf2B,EAAaG,QAAUC,sBAAsBI,GAC7CD,MAGArC,EAAKG,OAtEM,EAuEPkB,EAAU,GACVA,IACAS,EAAaG,QAAUC,sBAAsBE,IAG7CpC,EAAKI,MAAQmC,IAEjBF,IAER,EACMG,EAAoB,WACtBpB,GAAa,EACbC,EAAU,EACVU,EAAYE,QAAUQ,aAAY,WACzBnB,EAKDoB,cAAcX,EAAYE,UAJ1BZ,EAAU,EACVS,EAAaG,QAAUC,sBAAsBE,GAKrD,GAAG,KACP,EACMG,EAAc,WAChB,OAAOf,EAAOX,KAAK8B,MAAsB,EAAhB9B,KAAK+B,UAClC,EASMP,EAAO,SAAPA,IANc,IACVQ,EAMDhB,EAAUI,UANTY,EAAMhB,EAAUI,QAAQa,WAAW,MAEzCC,EAAAA,KAAmBF,EAAK9C,EAAM0B,EAAQQ,SAMtCH,EAAaG,QAAUC,sBAAsBG,GACjD,EAmBA,OAhBAW,EAAAA,EAAAA,YAAU,WAKN,SAASC,IACLpB,EAAUI,QAAQzB,MAAQT,EAAKS,MAC/BqB,EAAUI,QAAQxB,OAASV,EAAKU,MACpC,CAEA,OATAV,EAAKS,MAAQ0C,OAAOC,WACpBpD,EAAKU,OAASyC,OAAOE,YACrBvB,EAAUI,QAAQzB,MAAQT,EAAKS,MAC/BqB,EAAUI,QAAQxB,OAASV,EAAKU,OAKhCyC,OAAOG,iBAAiB,UAAU,kBAAMJ,GAAc,IAC/C,WACPK,qBAAqBxB,EAAaG,SAChCiB,OAAOK,oBAAoB,SAAUN,EACvC,CACF,GAAG,IAEE,0BACHO,UAAU,SACVhD,MAAOT,EAAKS,MACZC,OAAQV,EAAKS,MACbiD,IAAK5B,EACL6B,YA5HoB,SAACC,GACrB,IAAI1D,EAAI0D,EAAMC,QACV1D,EAAIyD,EAAME,QACR7D,EAAOyB,EAAQQ,QACrBjC,EAAKC,EAAIA,EACTD,EAAKE,EAAIA,EACLkB,IACAU,EAAaG,QAAUC,sBAAsBM,IAEjDH,GACJ,EAmHIyB,YAlHoB,WACpBvC,GAAU,EACVH,GAAa,EACbU,EAAaG,QAAUC,sBAAsBF,EACjD,EA+GI+B,UA9GkB,WAClBxC,GAAU,EACGE,EAAQQ,QAChB7B,MAAQmC,IACbJ,GACJ,GA2GJ,EClJA,EAJsB,WAClB,OAAO,gBAAC,EAAe,KAC3B,EAIa6B,EAAO,WAAH,OAAS,8DAA6C,C","sources":["webpack://leolanzinger.github.io/./src/components/framerender.js","webpack://leolanzinger.github.io/./src/components/AnimationCanvas.js","webpack://leolanzinger.github.io/./src/pages/animation.js"],"sourcesContent":["function frameRenderer(size, ball) {\n    this.clearRect(0, 0, size.width, size.height);\n  \n    const drawCircle = (x, y, radius, color, alpha) => {\n      this.save();\n      this.beginPath();\n      this.arc(x, y, radius, 0, Math.PI * 2);\n      this.fillStyle = color;\n      this.globalAlpha = alpha;\n      this.fill();\n      this.closePath();\n      this.restore();\n    };\n  \n    drawCircle(ball.x, ball.y, ball.radius, ball.color);\n  }\n  \n  export default frameRenderer;\n  ","import * as React from \"react\"\nimport { useRef, useEffect } from \"react\";\nimport \"../styles/style.css\"\nimport frameRenderer from \"./framerender\";\n\nconst AnimationCanvas = () => {\n    // onboarding animation variable\n    let onboarding = true;\n    let bounces = 0;\n    let canvasIsAnimated = false;\n    // canvas variables\n    let size = {\n        width: 0,\n        height: 0\n    }\n    let mouseUp = true;\n    // ball variables\n    const baseRadius = 2;\n    const colors = [\"#F1C40F\", \"#1ABC9C\", \"#3498DB\", \"#9B59B6\", \"#95A5A6\"];\n    // refs\n    const ballRef = useRef({ x: 50, y: 50, vx: 3.9, vy: 3.9, radius: baseRadius, color: colors[0] });\n    const canvasRef = useRef(null);\n    const requestIdRef = useRef(null);\n    const intervalRef = useRef(null);\n\n    // MOUSE HANDLING\n    const handleMouseMove = (event) => {\n        var x = event.clientX;\n        var y = event.clientY;\n        const ball = ballRef.current;\n        ball.x = x;\n        ball.y = y;\n        if (onboarding) {\n            requestIdRef.current = requestAnimationFrame(animateOnboarding);\n        }\n        tick();\n    }\n    const handleMouseDown = () => {\n        mouseUp = false;\n        onboarding = false;\n        requestIdRef.current = requestAnimationFrame(increaseBall);\n    }\n    const handleMouseUp = () => {\n        mouseUp = true;\n        const ball = ballRef.current;\n        ball.color = randomColor();\n        resetBall();\n    }\n\n    // BALL ANIMATION\n    const increaseBall = () => {\n        const ball = ballRef.current;\n        ball.radius += 4;\n        if (ball.radius > 10) canvasIsAnimated = true;\n        if (!mouseUp) requestIdRef.current = requestAnimationFrame(increaseBall);\n    }\n    const resetBall = () => {\n        const ball = ballRef.current;\n        // bounce animation\n        if (ball.radius > baseRadius) {\n            ball.radius -= (ball.radius / 6);\n            requestIdRef.current = requestAnimationFrame(resetBall);\n        }\n        else {\n            ball.radius = baseRadius;\n        }\n    }\n    const inflateBall = () => {\n        const ball = ballRef.current;\n        if (ball.radius < 20) {\n            ball.radius += 4;\n            requestIdRef.current = requestAnimationFrame(inflateBall);\n            tick();\n        }\n        else {\n            requestIdRef.current = requestAnimationFrame(deflateBall);\n            tick();\n        }\n    }\n    const deflateBall = () => {\n        const ball = ballRef.current;\n        if (ball.radius > baseRadius) {\n            ball.radius -= 4;\n            requestIdRef.current = requestAnimationFrame(deflateBall);\n            tick();\n        }\n        else {\n            ball.radius = baseRadius;\n            if (bounces < 2) {\n                bounces++;\n                requestIdRef.current = requestAnimationFrame(inflateBall);\n            }\n            else {\n                ball.color = randomColor();\n            }\n            tick();\n        }\n    }\n    const animateOnboarding = () => {\n        onboarding = false;\n        bounces = 0;\n        intervalRef.current = setInterval(function() {\n            if (!canvasIsAnimated) {\n                bounces = 0;\n                requestIdRef.current = requestAnimationFrame(inflateBall);\n            }\n            else {\n                clearInterval(intervalRef.current);\n            }\n        }, 3600);\n    }\n    const randomColor = () => {\n        return colors[Math.floor(Math.random() * 5)];\n    }\n\n    // FRAME RENDERING\n    const renderFrame = () => {\n        const ctx = canvasRef.current.getContext(\"2d\");\n        // updateBall();\n        frameRenderer.call(ctx, size, ballRef.current);\n      };    \n\n    const tick = () => {\n        if (!canvasRef.current) return;\n        renderFrame();\n        requestIdRef.current = requestAnimationFrame(tick);\n    };\n\n    // ON MOUNT\n    useEffect(() => {\n        size.width = window.innerWidth;\n        size.height = window.innerHeight;\n        canvasRef.current.width = size.width;\n        canvasRef.current.height = size.height;\n        function handleResize() {    \n            canvasRef.current.width = size.width;\n            canvasRef.current.height = size.height;\n        }\n        window.addEventListener(\"resize\", () => handleResize());\n        return () => {\n        cancelAnimationFrame(requestIdRef.current);\n          window.removeEventListener(\"resize\", handleResize);\n        };\n      }, []);\n\n    return <canvas\n        className=\"canvas\"\n        width={size.width}\n        height={size.width}\n        ref={canvasRef}\n        onMouseMove={handleMouseMove}\n        onMouseDown={handleMouseDown}\n        onMouseUp={handleMouseUp}\n    />;\n}\n\nexport default AnimationCanvas;\n","import * as React from \"react\"\nimport \"../styles/style.css\"\nimport AnimationCanvas from \"../components/AnimationCanvas\";\n\nconst AnimationPage = () => {\n    return <AnimationCanvas />;\n}\n\nexport default AnimationPage\n\nexport const Head = () => <title>Leonardo Lanzinger - animation</title>"],"names":["size","ball","x","y","radius","color","alpha","this","clearRect","width","height","save","beginPath","arc","Math","PI","fillStyle","globalAlpha","fill","closePath","restore","onboarding","bounces","canvasIsAnimated","mouseUp","colors","ballRef","useRef","vx","vy","canvasRef","requestIdRef","intervalRef","increaseBall","current","requestAnimationFrame","resetBall","inflateBall","tick","deflateBall","randomColor","animateOnboarding","setInterval","clearInterval","floor","random","ctx","getContext","frameRenderer","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","cancelAnimationFrame","removeEventListener","className","ref","onMouseMove","event","clientX","clientY","onMouseDown","onMouseUp","Head"],"sourceRoot":""}